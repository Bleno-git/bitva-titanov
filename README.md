Данный проект создан в рамках хакатона "Битва Титанов", проводимого РУТ МИИТ (https://wish.rut.digital/bitvatitanovv). Проект занял первое место. Проект был разработан за 3 дня.

Задача была следующая: проанализировать данные Excel файлы, разработать финансовые метрики и сделать визуализацию данных по запросу пользователя. Приоритетно было добавить работу через ИИ, чтобы можно было распознавать обычный человеческий текст запросов и аудио файлы.

Результатом работы стал телеграм бот, в который можно было отправить текстовый запрос, например: "Покажи выручку за март 2023 года", либо то же самое в аудио формате, бот выдавал ссылку на страницу (она открывается как микроприложение внутри телеграм), и на странице доступны графики заданного запроса.

ИИ нужен для обработки запроса на естественном языке и перевода его в машинный формат, сами данные компании не передаются в ChatGPT. Грубо говоря, ChatGPT работает как API сервис, который принимает на входе аудио, либо текст запроса, а возвращает список действий для программы, чтобы достать нужный срез данных и подготовить данные для графика, что гарантирует конфедициальность данных компании.

============ Архитектура Проект разделён на два микросервиса:

Телеграм бот
REST API для автоматически загрузки и выгрузки данных. В каждом микросервисе свои модули, а так же есть общая библеотека, к которой могут обращаться оба микросервиса (например, для преобразования даты в UNIX формат) Вся статистика, разрезы и прочее считаются один раз при подгрузке данных (из файла в директории или из файла из API), бот только обрабатывает запросы от пользователя, фильтрует данные из срезов и генерирует графики и прочее.
Стек технологий:

Python 3.x

JS/HTML/CSS

Flask (REST API)

TelegramBotAPI

Bootstrap (для frontend вёрстки)

ChartJS (для построения графиков)

Nginx

Cloudflare (для ssl сертификата)

Проект поддерживает программную загрузку данных, посредством REST API, а так же выгрузку метрик, бот получает и загружает данные через REST API в микросервис для api.

Интерфейс взаимодействия основан на телеграм боте. В нём есть несколько кнопок, которые позволяют получить сводные данные по заранее заданным метрикам. Кроме того, бот поддерживает естественный текст, то есть человек может задать прямой вопрос, вроде: "Покажи статистику по складам в Ставропольском крае", бот вернёт графики и текстовую статистику по большому количествую различных разрезов (выручка, прибыль, расходы по дням, по дням и культурам, по дням и регионам и прочее).

============ Основные метрики

Общая выручка

Общие расходы

Общая прибыль

============ Результаты работы

Вехи разработки:

Обработка первоначальных данных. Данные из разных источников собираются в единую базу данных, создаются сущности данных (когда по каждой заявке мы можем получить всю информацию из одной таблицы)

Обработка естественного языка. Запрос пользователя преобразуется в команду для бота (тип визуализации, сущность и период), потом посредством внутренней библиотеки запрос анализируется и подготавливаются данные.

Разработка бизнес-метрик.

Визуализация бизнес-метрик.

Тестирование.
